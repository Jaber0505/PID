{% extends "base.html" %}
{% block title %}DÃ©tail de la reprÃ©sentation{% endblock %}

{% block content %}
    <h2>{{ title }}</h2>

    <nav class="form-actions">
        <a href="{% url 'catalogue:representation-edit' representation.id %}" class="btn btn-success">âœï¸ Modifier</a>
        <a href="{% url 'catalogue:representation-delete' representation.id %}" class="btn btn-danger">ğŸ—‘ Supprimer</a>
    </nav>

    <h3>{{ representation.show.title }}</h3>

    <ul>
        <li><strong>Date :</strong> {{ representation.when|date:"d/m/Y H:i" }}</li>
        <li><strong>Lieu :</strong> {{ representation.location.designation }}</li>
        <li><strong>CapacitÃ© :</strong>{{ representation.places_restantes }} / {{ representation.capacity }}</li>
    </ul>

    {% if not has_reservation and representation.when > now and representation.places_restantes > 0 %}
        <nav class="form-actions">
            <a href="{% url 'catalogue:reservation-create' representation.show.slug %}" class="btn btn-primary">
                ğŸŸ RÃ©server cette sÃ©ance
            </a>
        </nav>
    {% elif representation.places_restantes <= 0 %}
        <p class="messages warning">âŒ Cette sÃ©ance est complÃ¨te.</p>
    {% elif representation.when <= now %}
        <p class="messages error">â›” Cette sÃ©ance est expirÃ©e.</p>
    {% endif %}

    <nav class="form-actions">
        <a href="{% url 'catalogue:representation-index' %}" class="btn btn-secondary">ğŸ”™ Retour Ã  la liste</a>
    </nav>
{% endblock %}
